<section>
    <h2 class="title">Pending patients</h2>
    <div id="doctorWaitingList">
        <div class="alert alert-success alertInDoctor" ng-repeat="data in nurseWaiting">
            <p class="nameInDoctor">{{data.firstname + " " + data.second_name + " " + data.surname}}</p>
            <button class="btn btn-link moreDetails" value="{{data.test_id}}">View more details</button>
            <button class="btn btn-link labRequest" value="{{data.child_id}}">Request lab tests</button>
            <button class="btn btn-link diagnosis" value="{{data.child_id}}">Write diagnosis</button>
            <div class="moreDetailsText">
                <p>{{"Temp: " + data.temperature + ", BP: " + data.blood_pressure + ", Height: " + data.height + ", Weight: " + data.weight}}</p>
                <p class="history-title">{{data.history == '' ? 'Patient\'s history not available' : 'Patient\'s history'}}</p>
                <p ng-repeat="info in data.history">{{info.date}}: Diagnosed with {{info.diagnosis}} - {{info.description}}</p>
            </div>
        </div>
    </div>
    <h2 class="title">Lab results</h2>
    <div id="labResults">
        <div class="alert alert-success alertInDoctor" ng-repeat="data in labWaiting">
            <p class="nameInDoctor">{{data.firstname + " " + data.second_name + " " + data.surname}}</p>
            <button class="btn btn-link moreDetails" value="{{data.test_id}}">View more details</button>
            <button class="btn btn-link diagnosis" value="{{data.child_id}}">Write diagnosis</button>
            <div class="moreDetailsText">
                <p>{{data.results}}</p>
                <p class="history-title">{{data.history == '' ? 'Patient\'s history not available' : 'Patient\'s history'}}</p>
                <p ng-repeat="info in data.history">{{info.date}}: Diagnosed with {{info.diagnosis}} - {{info.description}} {{info.length}}</p>
            </div>
        </div>
    </div>
</section>

<!--modal for writing diagnosis-->
<div class="modal fade" id="diagnosis" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Update diagnosis for <span id="drdiagname"></span></h3>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" id="diagnosisInDoctor">
                    <div class="form-group">
                        <div class="col-sm-2">
                            Diagnosis
                        </div>
                        <div class="col-sm-10">
                            <input class="form-control" name="diagnosis" />
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            Description
                        </div>
                        <div class="col-sm-10">
                            <textarea class="form-control" name="description"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            Prescription
                        </div>
                        <div class="col-sm-10">
                            <textarea class="form-control" name="prescription"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-2">
                            <input type="submit" value="Prescribe meds" class="btn btn-default" />
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="alert alert-info col-sm-9" id="diagnosisWarning">Describe the required tests</div>
                <button class="btn btn-warning" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!--end of modal for writing diagnosis-->

<!--modal for lab test request-->
<div class="modal fade" id="labRequest" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Describe the tests</h3>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" id="inDoctorLabRequest">
                    <div class="form-group">
                        <div class="col-sm-offset-1 col-sm-10">
                            <textarea class="form-control" name="description"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-1">
                            <input type="submit" value="Submit request" class="btn btn-default" />
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="alert alert-info col-sm-9" id="labWarning">Describe the required tests</div>
                <button class="btn btn-warning" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!--end of modal for lab test request-->